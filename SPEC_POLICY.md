# 아고라 기능 명세서 및 서비스 정책

## 1. 유저 플로우 차트
```
<채널 유입(IG/뉴스레터/검색)>
  -> [블로그 링크 클릭]
    -> <블로그 홈/리스트>
      -> [PG 에세이 카드 선택]
        -> <아티클 상세(롱폼)>
          -> [숏폼 스니펫 재생/조회]
          -> [스크롤 읽기]
          -> [CTA: 체크리스트 다운로드]
              -> <CTA 모달/섹션>
                  -> [형식 선택(Notion/PDF)]
                      -> <다운로드/노션 링크 이동>
          -> [CTA: DM 상담]
              -> <IG DM 딥링크>
          -> [저장/공유 버튼]
              -> <소셜 공유 시트>
          -> [실행 체크리스트 보기]
              -> <체크리스트 상세>
                  -> [완료 체크/메모]
                  -> [캘린더/푸시 리마인더 설정]
                      -> <리마인더 설정 확인>
```

## 2. 트리거(Trigger)
- UTM 태그가 포함된 IG/뉴스레터/검색 링크 클릭으로 블로그 유입.
- 블로그 내 CTA 클릭(체크리스트 다운로드, DM 상담).
- 체크리스트 완료/리마인더 설정 시 추가 액션 노출.

## 3. 사전 조건(Pre-Conditions)
- 블로그/CTA/체크리스트 페이지는 비로그인으로 접근 가능(베타 정책).
- IG DM 딥링크는 사용자가 IG 앱/웹에 로그인되어 있어야 정상 작동.
- 리마인더/캘린더 연동은 기기 알림 권한 및 캘린더 접근 권한 허용 필요.
- 네트워크 연결 필수; 오프라인 상태에서는 저장/완료 이벤트 임시 버퍼링 후 재전송.

## 4. 성공 시나리오(Success Scenario)
1. 사용자가 채널(IG/뉴스레터/검색)에서 블로그 링크를 클릭한다.
2. 블로그 리스트에서 원하는 PG 에세이를 선택한다.
3. 아티클 상세에서 요약→실무 번역→실행 체크리스트→사례/툴킷→CTA를 순차로 소비한다.
4. 숏폼 스니펫을 재생하거나 카드뉴스를 열람한다.
5. 체크리스트 섹션에서 5/20/60분 미션을 확인하고 완료 체크를 진행한다.
6. 필요 시 캘린더/푸시 리마인더를 설정한다.
7. CTA를 통해 체크리스트 다운로드(노션/PDF)하거나 DM 상담을 요청한다.
8. 저장/공유 버튼으로 콘텐츠를 공유한다.
9. 모든 이벤트(스크롤 깊이, 스니펫 재생, CTA 클릭, 완료, 공유)가 로깅되고 대시보드에 반영된다.

## 5. 예외/에러 케이스(Exception/Error Case)
- 네트워크 불안정: 페이지/CTA 로딩 실패 시 재시도 버튼과 간단 요약만 우선 노출, 이벤트는 로컬 큐에 임시 저장 후 복구 시 전송.
- IG DM 딥링크 실패(앱 미설치/비로그인): 웹 DM 안내 또는 IG 설치/로그인 안내 모달 노출.
- 체크리스트 생성/추천 신뢰도 낮음: 기본 템플릿(직무/스테이지 공통)으로 폴백, “실험적 추천” 라벨 표시.
- 리마인더 권한 거부: 체크리스트 완료 알림을 이메일/웹푸시 대체 제안(동의 받은 채널만).
- 다운로드 실패(PDF/노션): 재시도 + 대체 링크(이메일 전송 옵션) 제공.
- 첫 방문자: 온보딩 토스트로 블로그 포맷 안내(요약→실행→CTA) 및 저장/공유/DM 유도.
- UTM 누락: 기본 채널 “direct”로 태깅, 역유입 비율 계산에서 분리 집계.
- 스크롤/재생 이벤트 미수집: 최소 CTA/완료 이벤트만 필수 전송하여 퍼널 계산 유지.

## 6. 서비스 정책(Policy)
- 접근/ID 정책: 베타 기간 비로그인 사용; DM/리마인더/다운로드 시 최소 식별자(세션/채널)만 사용. SSO/팀 협업은 범위 외.
- 콘텐츠/발행 정책: PG 에세이 기반 재해석 시 톤 가이드 준수, 표준 블로그 포맷 유지. 주 3회 정기 발행 + 스팟 발행은 캘린더에 사전 등록.
- CTA/리드 정책: 체크리스트 다운로드와 DM 상담 CTA를 명확 구분; 버튼별 UTM 태깅 필수. DM 응답 SLA는 별도 운영 문서로 관리.
- 알림/리마인더 정책: 사용자 명시 동의 후 푸시/캘린더 등록; 거부 시 대체 채널 제안 금지(스팸 방지).
- 이어하기/뒤로가기 정책: 뒤로가기 시 직전 스크롤 위치 복원(세션 저장); 체크리스트 진행 상태는 로컬+서버 동기화.
- 데이터 생성/저장 정책: 이벤트 로그(저장·공유·CTA·완료·스크롤 깊이)는 1년간 보관 후 집계값만 익명화; UTM/소스 태그는 2년 보관. 개인 메모/체크 상태는 사용자 요청 시 즉시 삭제.
- 암호화/보안: 전송구간 TLS, 저장 시 PII 최소화 원칙; 이메일 등 연락처 수집 시 별도 동의 및 해시 처리. DM 링크에는 토큰/PII 포함 금지.
- 사용자 데이터 분석 동의: 첫 CTA/리마인더 시 퍼널·리텐션 분석 목적 익명 데이터 수집 동의 배너 노출; 거부 시 기능 제한 없이 비식별 로그만 수집.
- 플랫폼 지원 정책: 모바일 웹/PC 웹 우선; IG 인앱 브라우저 호환. 네이티브 앱 기능, 오프라인 모드는 범위 외.
- 장애/이탈 정책: 페이지 로딩 >3초 시 스켈레톤+간단 요약 우선 표시; 이탈 발생 시 복귀 유도 알림은 동의 받은 채널에서만 발송.
